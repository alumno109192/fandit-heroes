<div class="hero-detail-container">
  <!-- Loading State -->
  <div class="loading-container" *ngIf="isLoading">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando información del héroe...</p>
  </div>

  <!-- Error State -->
  <div class="error-container" *ngIf="error && !isLoading">
    <mat-icon>error_outline</mat-icon>
    <h2>Error al cargar el héroe</h2>
    <p>No se pudo obtener la información del héroe solicitado.</p>
    <button mat-raised-button color="primary" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Volver al inicio
    </button>
  </div>

  <!-- Hero Detail Content -->
  <div class="hero-content" *ngIf="hero && !isLoading && !error">
    <!-- Back Button -->
    <div class="back-button-container">
      <button mat-fab color="primary" (click)="goBack()" aria-label="Volver">
        <mat-icon>arrow_back</mat-icon>
      </button>
    </div>

    <!-- Hero Header -->
    <div class="hero-header">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div class="hero-image-container">
              <img 
                [src]="getHeroImageUrl()" 
                [alt]="hero.name"
                class="hero-image">
            </div>
          </div>
          <div class="col-md-8">
            <div class="hero-info">
              <h1 class="hero-name">{{ hero.name }}</h1>
              <p class="hero-description" *ngIf="hero.description; else noDescription">
                {{ hero.description }}
              </p>
              <ng-template #noDescription>
                <p class="hero-description no-description">
                  No hay descripción disponible para este héroe.
                </p>
              </ng-template>

              <div class="hero-stats">
                <div class="stat-card">
                  <mat-icon>book</mat-icon>
                  <div class="stat-info">
                    <span class="stat-number">{{ hero.comics.available }}</span>
                    <span class="stat-label">Comics</span>
                  </div>
                </div>
                <div class="stat-card">
                  <mat-icon>tv</mat-icon>
                  <div class="stat-info">
                    <span class="stat-number">{{ hero.series.available }}</span>
                    <span class="stat-label">Series</span>
                  </div>
                </div>
                <div class="stat-card">
                  <mat-icon>library_books</mat-icon>
                  <div class="stat-info">
                    <span class="stat-number">{{ hero.stories.available }}</span>
                    <span class="stat-label">Historias</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Related Series Section -->
    <div class="related-series-section" *ngIf="relatedSeries.length > 0">
      <div class="container">
        <h2 class="section-title">Series Relacionadas</h2>
        <div class="series-grid">
          <div class="serie-card" *ngFor="let serie of relatedSeries">
            <div class="serie-image-container">
              <img 
                [src]="getSerieImageUrl(serie)" 
                [alt]="serie.title"
                class="serie-image">
            </div>
            <div class="serie-info">
              <h3 class="serie-title">{{ serie.title }}</h3>
              <p class="serie-year">{{ getYearRange(serie) }}</p>
              <p class="serie-description" *ngIf="serie.description">
                {{ serie.description.length > 100 ? (serie.description | slice:0:100) + '...' : serie.description }}
              </p>
              <div class="serie-stats">
                <span class="stat-item">
                  <mat-icon>book</mat-icon>
                  {{ serie.comics.available }} comics
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
