<div class="hero-list-container">
  <!-- Header Section -->
  <div class="header">
    <h1>FANDIT HÉROES - Arquitectura SOLID</h1>
    <p class="subtitle">Principios SOLID y Clean Code aplicados</p>
  </div>

  <!-- Search Section -->
  <div class="search-section">
    <div class="search-container">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Buscar héroes...</mat-label>
        <input 
          matInput 
          [formControl]="searchControl"
          placeholder="Ej: Spider-Man, Iron Man"
          autocomplete="off">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>
  </div>

  <!-- Mode Info Section -->
  <div class="mode-info" *ngIf="modeInfo$ | async as modeInfo">
    <mat-icon>{{ modeInfo.icon }}</mat-icon>
    <span class="info-text">{{ modeInfo.text }}</span>
    <app-data-toggle></app-data-toggle>
  </div>

  <!-- Loading Section -->
  <div class="loading" *ngIf="isLoading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <!-- Error Section -->
  <div class="error" *ngIf="error && !isLoading">
    <mat-icon>error</mat-icon>
    <p class="error-message">{{ error }}</p>
    <button mat-raised-button color="primary" (click)="loadHeroes()">
      Reintentar
    </button>
  </div>

  <!-- Heroes Grid -->
  <div class="heroes-grid" *ngIf="!isLoading && !error">
    <div class="hero-card" *ngFor="let hero of currentHeroes" (click)="viewHeroDetail(hero.id)">
      <mat-card>
        <img 
          class="hero-image"
          [src]="imageService.getOptimizedImageUrl(hero.thumbnail)" 
          [alt]="hero.name"
          loading="lazy">
        
        <mat-card-content>
          <h3 class="hero-name">{{ hero.name }}</h3>
          <p class="hero-description">
            {{ hero.description || 'Descripción no disponible' }}
          </p>
          
          <div class="hero-stats">
            <div class="stat">
              <span class="stat-number">{{ hero.comics?.available || 0 }}</span>
              <span class="stat-label">Comics</span>
            </div>
            <div class="stat">
              <span class="stat-number">{{ hero.series?.available || 0 }}</span>
              <span class="stat-label">Series</span>
            </div>
            <div class="stat">
              <span class="stat-number">{{ hero.stories?.available || 0 }}</span>
              <span class="stat-label">Historias</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <!-- No Results -->
  <div class="no-results" *ngIf="!isLoading && !error && currentHeroes.length === 0">
    <mat-icon>search_off</mat-icon>
    <h3>No se encontraron héroes</h3>
    <p>Intenta con otro término de búsqueda</p>
  </div>
</div>
